<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Âª∫ÁØâ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£Ë©ï‰æ°„ÉÑ„Éº„É´</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d1117;
    --surface: #161b22;
    --surface2: #21262d;
    --border: #30363d;
    --accent: #58a6ff;
    --warn: #f0883e;
    --danger: #f85149;
    --ok: #3fb950;
    --text: #e6edf3;
    --text-muted: #8b949e;
    --blueprint: #1a2744;
    --blueprint-line: #2d4a8a;
    --blueprint-bright: #4d7cc4;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Noto Sans JP', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
    padding: 20px 32px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 16px;
    background: var(--surface);
  }

  .header-icon {
    width: 36px;
    height: 36px;
    background: var(--accent);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
  }

  h1 {
    font-family: 'Space Mono', monospace;
    font-size: 15px;
    letter-spacing: 0.05em;
    color: var(--text);
  }

  .subtitle {
    font-size: 11px;
    color: var(--text-muted);
    font-family: 'Space Mono', monospace;
    margin-top: 2px;
  }

  .badge {
    margin-left: auto;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 4px 14px;
    font-size: 11px;
    color: var(--text-muted);
    font-family: 'Space Mono', monospace;
  }

  .main {
    display: flex;
    flex: 1;
    overflow: hidden;
  }

  .plan-area {
    flex: 1;
    padding: 32px;
    display: flex;
    flex-direction: column;
    gap: 24px;
    overflow-y: auto;
  }

  .floor-label {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 8px;
  }

  .floor-wrapper {
    background: var(--blueprint);
    border: 1px solid var(--blueprint-line);
    border-radius: 12px;
    padding: 24px;
    position: relative;
  }

  .floor-wrapper::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 12px;
    background-image: 
      linear-gradient(var(--blueprint-line) 1px, transparent 1px),
      linear-gradient(90deg, var(--blueprint-line) 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.3;
    pointer-events: none;
  }

  .floor-plan {
    position: relative;
    width: 100%;
  }

  .floor-plan svg {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Area overlays */
  .area-overlay {
    position: absolute;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 2px;
  }

  .area-overlay:hover {
    transform: scale(1.02);
    z-index: 10;
  }

  .area-name {
    font-size: 11px;
    font-weight: 700;
    text-align: center;
    line-height: 1.3;
    pointer-events: none;
    text-shadow: 0 1px 3px rgba(0,0,0,0.8);
  }

  .area-score {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    font-weight: 700;
    background: rgba(0,0,0,0.5);
    padding: 2px 6px;
    border-radius: 10px;
    pointer-events: none;
  }

  .score-ok { background: rgba(63,185,80,0.25); border: 1.5px solid rgba(63,185,80,0.6); color: #3fb950; }
  .score-warn { background: rgba(240,136,62,0.25); border: 1.5px solid rgba(240,136,62,0.6); color: #f0883e; }
  .score-danger { background: rgba(248,81,73,0.25); border: 1.5px solid rgba(248,81,73,0.6); color: #f85149; }

  .score-label-ok { color: var(--ok); }
  .score-label-warn { color: var(--warn); }
  .score-label-danger { color: var(--danger); }

  /* Sidebar */
  .sidebar {
    width: 360px;
    min-width: 360px;
    background: var(--surface);
    border-left: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .sidebar-header {
    padding: 20px 24px 16px;
    border-bottom: 1px solid var(--border);
  }

  .sidebar-title {
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 0;
  }

  .placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 40px 24px;
    text-align: center;
    gap: 12px;
    opacity: 0.5;
  }

  .placeholder-icon {
    font-size: 40px;
    opacity: 0.5;
  }

  .placeholder p {
    font-size: 13px;
    color: var(--text-muted);
    line-height: 1.6;
  }

  .area-detail {
    display: none;
    padding: 24px;
    flex-direction: column;
    gap: 20px;
  }

  .area-detail.active {
    display: flex;
  }

  .area-detail-header {
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .area-detail-icon {
    font-size: 28px;
    flex-shrink: 0;
  }

  .area-detail-name {
    font-size: 18px;
    font-weight: 700;
    line-height: 1.3;
  }

  .area-detail-floor {
    font-size: 11px;
    color: var(--text-muted);
    font-family: 'Space Mono', monospace;
    margin-top: 2px;
  }

  .score-bar-wrapper {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px;
  }

  .score-bar-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    font-size: 12px;
    color: var(--text-muted);
  }

  .score-value {
    font-family: 'Space Mono', monospace;
    font-size: 22px;
    font-weight: 700;
  }

  .score-bar {
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    overflow: hidden;
  }

  .score-bar-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.6s cubic-bezier(0.4,0,0.2,1);
  }

  .issues-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .section-title {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-muted);
    margin-bottom: 4px;
  }

  .issue-card {
    background: var(--surface2);
    border-radius: 8px;
    padding: 14px;
    border-left: 3px solid;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .issue-card.danger { border-color: var(--danger); }
  .issue-card.warn { border-color: var(--warn); }
  .issue-card.ok { border-color: var(--ok); }

  .issue-top {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .issue-tag {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    font-family: 'Space Mono', monospace;
    font-weight: 700;
  }

  .issue-tag.danger { background: rgba(248,81,73,0.15); color: var(--danger); }
  .issue-tag.warn { background: rgba(240,136,62,0.15); color: var(--warn); }
  .issue-tag.ok { background: rgba(63,185,80,0.15); color: var(--ok); }

  .issue-title {
    font-size: 13px;
    font-weight: 600;
    flex: 1;
  }

  .issue-desc {
    font-size: 12px;
    color: var(--text-muted);
    line-height: 1.6;
  }

  .assertion {
    background: rgba(88,166,255,0.08);
    border: 1px solid rgba(88,166,255,0.3);
    border-radius: 8px;
    padding: 12px;
    font-size: 12px;
    line-height: 1.6;
    color: var(--accent);
  }

  .assertion::before {
    content: 'üí° ÊèêÊ°à: ';
    font-weight: 700;
  }

  /* Legend */
  .legend {
    padding: 12px 24px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 16px;
    align-items: center;
    flex-wrap: wrap;
  }

  .legend-label {
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    color: var(--text-muted);
    margin-right: 4px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 11px;
  }

  .legend-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  /* Floor image container */
  .floor-image-container {
    position: relative;
    width: 100%;
  }

  .floor-image-container img {
    width: 100%;
    height: auto;
    display: block;
    opacity: 0.15;
    filter: invert(1) hue-rotate(200deg);
  }

  .areas-layer {
    position: absolute;
    inset: 0;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

  .overall-summary {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px;
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .summary-item {
    flex: 1;
    min-width: 60px;
    text-align: center;
  }

  .summary-num {
    font-family: 'Space Mono', monospace;
    font-size: 22px;
    font-weight: 700;
  }

  .summary-desc {
    font-size: 10px;
    color: var(--text-muted);
    margin-top: 2px;
  }
</style>
</head>
<body>

<header>
  <div class="header-icon">‚ôø</div>
  <div>
    <h1>ACCESSIBILITY EVALUATOR</h1>
    <div class="subtitle">Âª∫ÁØâ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£Ë©ï‰æ°„Ç∑„Çπ„ÉÜ„É† ¬∑ Floor Plan Analysis</div>
  </div>
  <div class="badge">„Éó„É≠„Éà„Çø„Ç§„Éó v0.1</div>
</header>

<div class="main">
  <div class="plan-area">

    <!-- 2F -->
    <div>
      <div class="floor-label">‚ñ≤ 2F ‚Äî Second Floor</div>
      <div class="floor-wrapper">
        <div class="floor-image-container" id="floor2">
          <!-- SVG representation of 2F -->
          <svg viewBox="0 0 600 280" xmlns="http://www.w3.org/2000/svg" style="width:100%;height:auto;display:block;">
            <!-- Background -->
            <rect width="600" height="280" fill="none"/>
            <!-- LDK -->
            <rect x="10" y="10" width="340" height="200" fill="rgba(45,74,138,0.3)" stroke="#4d7cc4" stroke-width="2" rx="4"/>
            <text x="165" y="100" text-anchor="middle" fill="#8ab4e8" font-size="14" font-family="'Space Mono',monospace">LDK ¬∑ 10J</text>
            <!-- Japanese Room -->
            <rect x="360" y="10" width="230" height="160" fill="rgba(45,74,138,0.3)" stroke="#4d7cc4" stroke-width="2" rx="4"/>
            <text x="475" y="85" text-anchor="middle" fill="#8ab4e8" font-size="13" font-family="'Space Mono',monospace">ÂíåÂÆ§ ¬∑ 5.3J</text>
            <!-- Balcony -->
            <rect x="360" y="178" width="230" height="62" fill="rgba(45,74,138,0.15)" stroke="#4d7cc4" stroke-width="1.5" stroke-dasharray="6,4" rx="4"/>
            <text x="475" y="215" text-anchor="middle" fill="#6a94c4" font-size="12" font-family="'Space Mono',monospace">Balcony</text>
            <!-- Bathroom area -->
            <rect x="10" y="218" width="180" height="52" fill="rgba(45,74,138,0.2)" stroke="#4d7cc4" stroke-width="1.5" rx="4"/>
            <text x="100" y="248" text-anchor="middle" fill="#6a94c4" font-size="11" font-family="'Space Mono',monospace">Bath / WC / Ê¥óÈù¢</text>
            <!-- Hallway/stairs -->
            <rect x="200" y="218" width="150" height="52" fill="rgba(45,74,138,0.15)" stroke="#4d7cc4" stroke-width="1.5" rx="4"/>
            <text x="275" y="248" text-anchor="middle" fill="#6a94c4" font-size="11" font-family="'Space Mono',monospace">Âªä‰∏ã / ÈöéÊÆµ</text>
          </svg>
          <div class="areas-layer" id="areas2f"></div>
        </div>
      </div>
    </div>

    <!-- 1F -->
    <div>
      <div class="floor-label">‚ñº 1F ‚Äî First Floor</div>
      <div class="floor-wrapper">
        <div class="floor-image-container" id="floor1">
          <svg viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg" style="width:100%;height:auto;display:block;">
            <rect width="600" height="300" fill="none"/>
            <!-- Flooring Room 8.2J -->
            <rect x="10" y="10" width="190" height="280" fill="rgba(45,74,138,0.3)" stroke="#4d7cc4" stroke-width="2" rx="4"/>
            <text x="105" y="150" text-anchor="middle" fill="#8ab4e8" font-size="13" font-family="'Space Mono',monospace">Ê¥ãÂÆ§ ¬∑ 8.2J</text>
            <!-- Shed -->
            <rect x="210" y="10" width="175" height="120" fill="rgba(45,74,138,0.2)" stroke="#4d7cc4" stroke-width="2" rx="4"/>
            <text x="297" y="70" text-anchor="middle" fill="#6a94c4" font-size="13" font-family="'Space Mono',monospace">Áâ©ÁΩÆ / Shed</text>
            <!-- CL -->
            <rect x="395" y="10" width="80" height="120" fill="rgba(45,74,138,0.15)" stroke="#4d7cc4" stroke-width="1.5" rx="4"/>
            <text x="435" y="70" text-anchor="middle" fill="#6a94c4" font-size="11" font-family="'Space Mono',monospace">CL</text>
            <!-- Flooring Room 6.3J -->
            <rect x="485" y="10" width="105" height="280" fill="rgba(45,74,138,0.3)" stroke="#4d7cc4" stroke-width="2" rx="4"/>
            <text x="537" y="150" text-anchor="middle" fill="#8ab4e8" font-size="13" font-family="'Space Mono',monospace">Ê¥ãÂÆ§<tspan x="537" dy="18">6.3J</tspan></text>
            <!-- Hall/Entrance -->
            <rect x="210" y="140" width="265" height="150" fill="rgba(45,74,138,0.2)" stroke="#4d7cc4" stroke-width="1.5" rx="4"/>
            <text x="342" y="220" text-anchor="middle" fill="#6a94c4" font-size="12" font-family="'Space Mono',monospace">ÁéÑÈñ¢ / „Éõ„Éº„É´ / ÈöéÊÆµ</text>
          </svg>
          <div class="areas-layer" id="areas1f"></div>
        </div>
      </div>
    </div>

  </div>

  <div class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-title">EVALUATION PANEL</div>
    </div>
    <div class="sidebar-content" id="sidebarContent">
      <div class="placeholder" id="placeholder">
        <div class="placeholder-icon">üè†</div>
        <p>ÂêÑ„Ç®„É™„Ç¢„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶<br>„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£Ë©ï‰æ°„ÇíÁ¢∫Ë™ç</p>
      </div>

      <!-- Area detail panels (hidden by default) -->
      <div id="detail-ldk" class="area-detail"></div>
      <div id="detail-japanese" class="area-detail"></div>
      <div id="detail-balcony" class="area-detail"></div>
      <div id="detail-bathroom" class="area-detail"></div>
      <div id="detail-stairs2f" class="area-detail"></div>
      <div id="detail-room82" class="area-detail"></div>
      <div id="detail-room63" class="area-detail"></div>
      <div id="detail-entrance" class="area-detail"></div>
      <div id="detail-shed" class="area-detail"></div>
    </div>
    <div class="legend">
      <span class="legend-label">Âá°‰æã:</span>
      <div class="legend-item"><div class="legend-dot" style="background:var(--ok)"></div><span>ËâØÂ•Ω</span></div>
      <div class="legend-item"><div class="legend-dot" style="background:var(--warn)"></div><span>Ë¶ÅÊîπÂñÑ</span></div>
      <div class="legend-item"><div class="legend-dot" style="background:var(--danger)"></div><span>ÈáçÂ§ßÂïèÈ°å</span></div>
    </div>
  </div>
</div>

<script>
const areaData = {
  ldk: {
    name: 'LDK',
    nameJa: '„É™„Éì„É≥„Ç∞„Éª„ÉÄ„Ç§„Éã„É≥„Ç∞„Éª„Ç≠„ÉÉ„ÉÅ„É≥',
    floor: '2F',
    icon: 'üç≥',
    score: 62,
    issues: [
      {
        level: 'warn',
        title: '„Ç≠„ÉÉ„ÉÅ„É≥„Ç´„Ç¶„É≥„Çø„Éº„ÅÆÈ´ò„Åï',
        desc: 'Ê®ôÊ∫ñÁöÑ„Å™„Ç´„Ç¶„É≥„Çø„ÉºÈ´ò„Åï(85cm)„ÅØËªäÊ§ÖÂ≠ê„É¶„Éº„Ç∂„Éº„Å´„ÅØÈ´ò„Åô„Åé„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÈ´ò„ÅïË™øÊï¥ÂèØËÉΩ„Å™„Ç´„Ç¶„É≥„Çø„Éº„ÅåÊé®Â•®„Åï„Çå„Åæ„Åô„ÄÇ',
        assertion: '„Ç´„Ç¶„É≥„Çø„ÉºÈ´ò„Åï„Çí72„Äú75cm„Å´Ë™øÊï¥„Åô„Çã„Åã„ÄÅËªäÊ§ÖÂ≠êÂØæÂøú„ÅÆÊòáÈôçÂºè„Ç´„Ç¶„É≥„Çø„Éº„ÅÆÂ∞éÂÖ•„ÇíÊ§úË®é„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: '2F„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπÔºàÈöéÊÆµ„ÅÆ„ÅøÔºâ',
        desc: 'LDK„Åå2F„Å´ÈÖçÁΩÆ„Åï„Çå„Å¶„Åä„Çä„ÄÅÈöéÊÆµ„ÅÆ„Åø„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„ÅØÁßªÂãï„Å´Âõ∞Èõ£„ÇíÊä±„Åà„ÇãÊñπ„Å´Â§ß„Åç„Å™ÈöúÂ£Å„Åß„Åô„ÄÇ',
        assertion: '„Éõ„Éº„É†„Ç®„É¨„Éô„Éº„Çø„Éº„Åæ„Åü„ÅØÈöéÊÆµÊòáÈôçÊ©ü„ÅÆË®≠ÁΩÆ„Çπ„Éö„Éº„Çπ„ÇíÁ¢∫‰øù„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ1F„Éª2FÈñì„ÅÆÂûÇÁõ¥ÁßªÂãï„ÅÆÊîπÂñÑ„ÅåÊúÄÂÑ™ÂÖàË™≤È°å„Åß„Åô„ÄÇ'
      },
      {
        level: 'ok',
        title: 'Â∫É„Åï„ÅÆÁ¢∫‰øù',
        desc: '10Áï≥ÔºàÁ¥Ñ16.5m¬≤Ôºâ„ÅÆÂ∫É„Åï„ÅØËªäÊ§ÖÂ≠ê„ÅÆÂõûËª¢ÔºàÁõ¥ÂæÑ150cmÔºâ„Å´ÂçÅÂàÜ„Å™Á©∫Èñì„ÇíÁ¢∫‰øù„Åß„Åç„Åæ„Åô„ÄÇ',
        assertion: null
      }
    ]
  },
  japanese: {
    name: 'ÂíåÂÆ§ 5.3J',
    nameJa: 'Êó•Êú¨ÈñìÔºàÁï≥Ôºâ',
    floor: '2F',
    icon: 'üèÆ',
    score: 38,
    issues: [
      {
        level: 'danger',
        title: 'Áï≥„Å®Âªä‰∏ã„ÅÆÊÆµÂ∑Æ',
        desc: 'ÂíåÂÆ§„ÅÆÁï≥„ÅØÈÄöÂ∏∏30„Äú40mm„ÅÆÈ´ò„Åï„Åå„ÅÇ„Çä„ÄÅËªäÊ§ÖÂ≠ê„ÇÑÊ≠©Ë°åË£úÂä©ÂÖ∑„ÅÆ„É¶„Éº„Ç∂„Éº„Å´„ÅØÂ§ß„Åç„Å™ÈöúÂ£Å„Å®„Å™„Çä„Åæ„Åô„ÄÇ',
        assertion: 'Áï≥Â∫ä„Çí‰∏ã„Åí„Å¶„Éï„É©„ÉÉ„Éà„Å´„Åô„Çã„Äå„Éï„É©„ÉÉ„ÉàÁï≥„Äç‰ªïÊßò„Å´Â§âÊõ¥„Åô„Çã„Åã„ÄÅ„Çπ„É≠„Éº„Éó‰ªò„ÅçÊ°ÜÔºà„Åã„Åæ„Å°Ôºâ„ÇíË®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'danger',
        title: 'Âºï„ÅçÊà∏„ÅÆÊúâÂäπÂπÖ',
        desc: '‰∏ÄËà¨ÁöÑ„Å™Âºï„ÅçÊà∏„ÅÆÊúâÂäπÂπÖÔºà750mmÁ®ãÂ∫¶Ôºâ„ÅØËªäÊ§ÖÂ≠êÔºàÊúâÂäπÂπÖ800mm‰ª•‰∏äÊé®Â•®Ôºâ„Å´„ÅØ‰∏çÂçÅÂàÜ„Åß„Åô„ÄÇ',
        assertion: 'ÊúâÂäπÈñãÂè£ÂπÖ„Çí850mm‰ª•‰∏ä„Å´Êã°ÂπÖ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂºï„ÅçÊà∏„ÅØÈñã„ÅçÊà∏„Çà„ÇäÁúÅ„Çπ„Éö„Éº„Çπ„ÅßÂÑ™„Çå„ÅüÈÅ∏Êäû„Åß„Åô„ÄÇ'
      },
      {
        level: 'warn',
        title: 'Â∫äÂ∫ß„Çπ„Çø„Ç§„É´„ÅÆÂïèÈ°å',
        desc: 'ÂíåÂÆ§„Åß„ÅÆÂ∫äÂ∫ß„ÅØÈ´òÈΩ¢ËÄÖ„ÇÑ‰∏ãËÇ¢ÈöúÂÆ≥„ÅÆ„ÅÇ„ÇãÊñπ„Å´„Å®„Å£„Å¶Á´ã„Å°‰∏ä„Åå„Çä„ÅåÂõ∞Èõ£„Åß„Åô„ÄÇ',
        assertion: 'Â∞è‰∏ä„Åå„ÇäÂºèÔºàÈ´ò„Åï40cmÁ®ãÂ∫¶Ôºâ„Å´„Åô„Çã„Åì„Å®„ÅßÊ§ÖÂ≠ê‰ª£„Çè„Çä„Å´Â∫ß„Çå„ÇãÂíåÂÆ§„Å´Êîπ‰øÆ„Åß„Åç„Åæ„Åô„ÄÇÊâã„Åô„Çä„ÇÇÂêà„Çè„Åõ„Å¶Ë®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      }
    ]
  },
  balcony: {
    name: 'Balcony',
    nameJa: '„Éê„É´„Ç≥„Éã„Éº',
    floor: '2F',
    icon: 'üåø',
    score: 45,
    issues: [
      {
        level: 'warn',
        title: 'ÊéÉ„ÅçÂá∫„ÅóÁ™ì„ÅÆÊÆµÂ∑Æ',
        desc: '„Éê„É´„Ç≥„Éã„Éº„Å∏„ÅÆÂá∫ÂÖ•„ÇäÂè£„Å´Áîü„Åò„ÇãÊÆµÂ∑ÆÔºà20mm‰ª•‰∏äÔºâ„ÅØËª¢ÂÄí„É™„Çπ„ÇØ„ÇíÈ´ò„ÇÅ„Åæ„Åô„ÄÇ',
        assertion: '„Éï„É©„ÉÉ„Éà„Çµ„ÉÉ„Ç∑ÔºàÊÆµÂ∑Æ„Çº„É≠Ôºâ„ÇíÊé°Áî®„Åô„Çã„Åã„ÄÅ„Çπ„É≠„Éº„ÉóÊùø„ÇíË®≠ÁΩÆ„Åó„Å¶ÊÆµÂ∑Æ„ÇíËß£Ê∂à„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: '„Éê„É´„Ç≥„Éã„ÉºÂπÖÂì°',
        desc: 'Âõ≥Èù¢‰∏ä„ÅÆ„Éê„É´„Ç≥„Éã„ÉºÂ••Ë°å„Åç„ÅåÊµÖ„ÅÑÂ†¥Âêà„ÄÅËªäÊ§ÖÂ≠ê„Åß„ÅÆËª¢ÂõûÔºà150cmÂøÖË¶ÅÔºâ„ÅåÂõ∞Èõ£„Å´„Å™„Çä„Åæ„Åô„ÄÇ',
        assertion: '„Éê„É´„Ç≥„Éã„ÉºÂ••Ë°å„Åç„ÇíÊúÄ‰Ωé150cmÁ¢∫‰øù„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Çå„Å´„Çà„ÇäËªäÊ§ÖÂ≠ê„Åß„ÅÆÂ§ñÊ∞óÊµ¥„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ'
      }
    ]
  },
  bathroom: {
    name: 'Ê∞¥Âõû„Çä',
    nameJa: '„Éê„Çπ„Éª„Éà„Ç§„É¨„ÉªÊ¥óÈù¢ÊâÄ',
    floor: '2F',
    icon: 'üöø',
    score: 30,
    issues: [
      {
        level: 'danger',
        title: '„Éê„Çπ„É´„Éº„É†„ÅÆÂ∫É„Åï‰∏çË∂≥',
        desc: '‰ªãÂä©„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÄÅÊµ¥ÂÆ§„Å´„ÅØ‰ªãÂä©ËÄÖ„Çπ„Éö„Éº„ÇπÔºà1.25Âù™‰ª•‰∏äÔºâ„ÅåÂøÖË¶Å„Åß„Åô„Åå„ÄÅ‰∏ÄËà¨ÁöÑ„Å™1Âù™„Çµ„Ç§„Ç∫„Åß„ÅØ‰∏çÂçÅÂàÜ„Åß„Åô„ÄÇ',
        assertion: '1.25„Äú1.5Âù™„Å∏„ÅÆÊã°Âºµ„ÇíÊ§úË®é„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åæ„Åü„ÅØ‰ªãË≠∑ÂØæÂøú„É¶„Éã„ÉÉ„Éà„Éê„ÇπÔºàÊâã„Åô„Çä„Éª„Ç∑„É£„ÉØ„Éº„ÉÅ„Çß„Ç¢„Éª„Éê„Çπ„É™„Éï„ÉàÂØæÂøúÔºâ„Å∏„ÅÆÂ§âÊõ¥„ÇíÊé®Â•®„Åó„Åæ„Åô„ÄÇ'
      },
      {
        level: 'danger',
        title: 'Âá∫ÂÖ•„ÇäÂè£„ÅÆÈñã„ÅçÊà∏',
        desc: 'Êµ¥ÂÆ§„ÅÆÈñã„ÅçÊà∏„ÅØ„ÄÅÂÜÖÂÅ¥„Å´ÂÄí„Çå„ÅüÈöõ„ÅÆÊïëÂá∫„ÇíÂ¶®„Åí„Åæ„Åô„ÄÇ„Åæ„ÅüÈñãÈñâ„Å´Â∫É„ÅÑ„Çπ„Éö„Éº„Çπ„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ',
        assertion: 'Âºï„ÅçÊà∏„Åæ„Åü„ÅØÊäò„ÇäÊà∏„Å´Â§âÊõ¥„Åó„ÄÅÈçµ„ÅØ„Ç≥„Ç§„É≥Ëß£Èå†ÂºèÔºàÂ§ñ„Åã„ÇâÈñãÊîæÂèØËÉΩÔºâ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'danger',
        title: '„Éà„Ç§„É¨„ÅÆÊúâÂäπÈù¢Á©ç',
        desc: 'ËªäÊ§ÖÂ≠ê„Åß„ÅÆÂà©Áî®„Å´„ÅØÂπÖ80cm√óÂ••Ë°å120cm‰ª•‰∏ä„ÅåÂøÖË¶Å„Åß„Åô„Åå„ÄÅÊ®ôÊ∫ñÁöÑ„Å™„Éà„Ç§„É¨„Åß„ÅØ„Åì„Çå„ÇíÊ∫Ä„Åü„Åï„Å™„ÅÑÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
        assertion: '„Éà„Ç§„É¨„Å∏„ÅÆÊ®™Áßª‰πó„Çπ„Éö„Éº„ÇπÔºà‰æøÂô®„ÅÆÁâáÂÅ¥70cm‰ª•‰∏äÔºâ„ÇíÁ¢∫‰øù„Åó„ÄÅLÂûãÊâã„Åô„Çä„ÇíË®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: 'Ê¥óÈù¢Âè∞„ÅÆÈ´ò„Åï„ÉªËÜù‰∏ãÁ©∫Èñì',
        desc: 'Ê®ôÊ∫ñÊ¥óÈù¢Âè∞„ÅØËªäÊ§ÖÂ≠ê„Åß„ÅÆ‰ΩøÁî®„ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ',
        assertion: 'Ê¥óÈù¢Âè∞‰∏ãÈÉ®„Å´ËÜù‰∏ã„Çπ„Éö„Éº„ÇπÔºàÈ´ò„Åï65cm‰ª•‰∏ä„ÉªÂ••Ë°å30cm‰ª•‰∏äÔºâ„ÇíÁ¢∫‰øù„Åó„Åü„Éê„É™„Ç¢„Éï„É™„ÉºÂØæÂøúÊ¥óÈù¢Âè∞„Å´Â§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      }
    ]
  },
  stairs2f: {
    name: 'Âªä‰∏ã„ÉªÈöéÊÆµ',
    nameJa: '2F „Éõ„Éº„É´„ÉªÈöéÊÆµ',
    floor: '2F',
    icon: 'ü™ú',
    score: 25,
    issues: [
      {
        level: 'danger',
        title: 'ÈöéÊÆµ„ÅÆ„Åø„Å´„Çà„ÇãÂûÇÁõ¥ÁßªÂãï',
        desc: '1F„Äú2FÈñì„ÅÆÁßªÂãïÊâãÊÆµ„ÅåÈöéÊÆµ„ÅÆ„Åø„ÅÆÂ†¥Âêà„ÄÅËªäÊ§ÖÂ≠ê„É¶„Éº„Ç∂„Éº„ÇÑË∂≥ËÖ∞„ÅÆÂº±„ÅÑÊñπ„ÅØ2F„ÅÆÂÖ®Ë®≠ÂÇôÔºàLDK„ÉªÂíåÂÆ§„Éª„Éê„ÇπÔºâ„Å´„Ç¢„ÇØ„Çª„Çπ‰∏çËÉΩ„Å®„Å™„Çä„Åæ„Åô„ÄÇ',
        assertion: 'ÊúÄÂÑ™ÂÖà„Åß„Éõ„Éº„É†„Ç®„É¨„Éô„Éº„Çø„ÉºÔºà0.5Âù™Á®ãÂ∫¶Ôºâ„Åæ„Åü„ÅØÈöéÊÆµÊòáÈôçÊ©ü„ÅÆË®≠ÁΩÆ„ÇíË®àÁîª„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÂ∞ÜÊù•„ÅÆË®≠ÁΩÆ„ÇíË¶ãË∂ä„Åó„Åü„Çπ„Éö„Éº„ÇπÁ¢∫‰øù„ÇÇÊúâÂäπ„Åß„Åô„ÄÇ'
      },
      {
        level: 'warn',
        title: 'Êâã„Åô„Çä„ÅÆË®≠ÁΩÆÁä∂Ê≥Å',
        desc: 'ÈöéÊÆµ‰∏°ÂÅ¥„ÅÆÊâã„Åô„Çä„ÅÆÊúâÁÑ°„ÅåÂõ≥Èù¢„Åã„ÇâÁ¢∫Ë™ç„Åß„Åç„Åæ„Åõ„Çì„ÄÇ',
        assertion: 'ÈöéÊÆµ„ÅÆ‰∏°ÂÅ¥„Å´Êâã„Åô„ÇäÔºàÈ´ò„Åï75„Äú85cm„ÄÅœÜ35mmÁ®ãÂ∫¶Ôºâ„ÇíÈÄ£Á∂ö„Åó„Å¶Ë®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇË∏ä„ÇäÂ†¥„Å´„ÇÇÊ∞¥Âπ≥ÈÉ®ÂàÜ„ÅÆÊâã„Åô„Çä„ÇíË®≠„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: 'Âªä‰∏ãÊúâÂäπÂπÖ',
        desc: 'Âªä‰∏ãÂπÖ„Åå78cmÊú™Ê∫Ä„ÅÆÂ†¥Âêà„ÄÅËªäÊ§ÖÂ≠ê„ÅÆÈÄöË°å„ÅåÂõ∞Èõ£„Åß„Åô„ÄÇ',
        assertion: 'Âªä‰∏ãÊúâÂäπÂπÖ„ÇíÊúÄ‰Ωé85cmÔºàÁêÜÊÉ≥„ÅØ90cm‰ª•‰∏äÔºâÁ¢∫‰øù„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      }
    ]
  },
  room82: {
    name: 'Ê¥ãÂÆ§ 8.2J',
    nameJa: '„Éï„É≠„Éº„É™„É≥„Ç∞Ê¥ãÂÆ§ÔºàÂ§ßÔºâ',
    floor: '1F',
    icon: 'üõè',
    score: 72,
    issues: [
      {
        level: 'ok',
        title: 'Â∫É„Åï„ÅØÂçÅÂàÜ',
        desc: '8.2Áï≥ÔºàÁ¥Ñ13.5m¬≤Ôºâ„ÅØ‰ªãË≠∑„Éô„ÉÉ„ÉâË®≠ÁΩÆÂæå„ÇÇËªäÊ§ÖÂ≠ê„ÅÆÂõûËª¢„Çπ„Éö„Éº„Çπ„ÇíÁ¢∫‰øù„Åß„Åç„Åæ„Åô„ÄÇ',
        assertion: null
      },
      {
        level: 'warn',
        title: '„Éâ„Ç¢ÊúâÂäπÂπÖ„ÅÆÁ¢∫Ë™ç„ÅåÂøÖË¶Å',
        desc: 'ËªäÊ§ÖÂ≠êÈÄöË°å„Å´ÂøÖË¶Å„Å™ÊúâÂäπÂπÖ80cm‰ª•‰∏ä„ÅåÁ¢∫‰øù„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ',
        assertion: 'ÈñãÂè£ÈÉ®ÊúâÂäπÂπÖ„Çí850mm‰ª•‰∏ä„Å´Ë®≠ÂÆö„Åó„ÄÅ„É¨„Éê„Éº„Éè„É≥„Éâ„É´Âºè„ÅÆÂºï„ÅçÊà∏„ÇíÊé°Áî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÊÆµÂ∑Æ„ÅÆ„Å™„ÅÑ„Éï„É©„ÉÉ„Éà„Å™Ê°Ü„ÇíË®≠„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'ok',
        title: '1F„Å´„ÅÇ„ÇãÂº∑„Åø',
        desc: '1F„Å´ÈÖçÁΩÆ„Åï„Çå„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅÂ∞ÜÊù•„ÅÆ‰∏ªÂØùÂÆ§„Å®„Åó„Å¶„ÅÆËª¢Áî®„ÅåÂÆπÊòì„Åß„Åô„ÄÇÂ§ñÈÉ®„Å∏„ÅÆÂãïÁ∑ö„ÇÇÁ¢∫‰øù„Åó„ÇÑ„Åô„ÅÑ‰ΩçÁΩÆ„Åß„Åô„ÄÇ',
        assertion: null
      }
    ]
  },
  room63: {
    name: 'Ê¥ãÂÆ§ 6.3J',
    nameJa: '„Éï„É≠„Éº„É™„É≥„Ç∞Ê¥ãÂÆ§ÔºàÂ∞èÔºâ',
    floor: '1F',
    icon: 'ü™ë',
    score: 65,
    issues: [
      {
        level: 'ok',
        title: '„Éï„É≠„Éº„É™„É≥„Ç∞Â∫äÊùê',
        desc: 'Áï≥„Å®Áï∞„Å™„Çä„Éï„É©„ÉÉ„Éà„Å™„Éï„É≠„Éº„É™„É≥„Ç∞„ÅØËªäÊ§ÖÂ≠ê„ÉªÊ≠©Ë°åË£úÂä©ÂÖ∑„Å´ÈÅ©„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
        assertion: null
      },
      {
        level: 'warn',
        title: '6.3Áï≥„Åß„ÅÆËªäÊ§ÖÂ≠êÂõûËª¢',
        desc: '6.3Áï≥ÔºàÁ¥Ñ10.4m¬≤Ôºâ„ÅØÂÆ∂ÂÖ∑ÈÖçÁΩÆ„Å´„Çà„Å£„Å¶„ÅØËªäÊ§ÖÂ≠ê„ÅÆËª¢Âõû„ÅåÂõ∞Èõ£„Å´„Å™„ÇãÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
        assertion: 'ÂÆ∂ÂÖ∑„ÅØÂ£ÅÈöõ„Å´ÈÖçÁΩÆ„Åó„ÄÅ‰∏≠Â§ÆÈÉ®„Å´Áõ¥ÂæÑ150cm‰ª•‰∏ä„ÅÆ„Çπ„Éö„Éº„Çπ„ÇíÁ¢∫‰øù„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: '„Éâ„Ç¢ÊúâÂäπÂπÖ',
        desc: 'ÈñãÂè£ÈÉ®„ÅÆÊúâÂäπÂπÖ„Åå80cmÊú™Ê∫Ä„ÅÆÂ†¥Âêà„ÄÅËªäÊ§ÖÂ≠êÈÄöË°å„Å´ÊîØÈöú„ÅåÁîü„Åò„Åæ„Åô„ÄÇ',
        assertion: '„Éâ„Ç¢ÂπÖ„Çí850mm‰ª•‰∏ä„Å´Êã°Âºµ„Åô„Çã„Åã„ÄÅÂºï„ÅçÊà∏„Å´Â§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      }
    ]
  },
  entrance: {
    name: 'ÁéÑÈñ¢„Éª„Éõ„Éº„É´',
    nameJa: 'ÁéÑÈñ¢„ÉªÂªä‰∏ã„ÉªÈöéÊÆµÔºà1FÔºâ',
    floor: '1F',
    icon: 'üö™',
    score: 40,
    issues: [
      {
        level: 'danger',
        title: 'ÁéÑÈñ¢„ÅÆ‰∏ä„Åå„ÇäÊ°ÜÊÆµÂ∑Æ',
        desc: '‰∏ÄËà¨ÁöÑ„Å™‰∏ä„Åå„ÇäÊ°Ü„ÅØ150„Äú180mm„ÅÆÊÆµÂ∑Æ„Åå„ÅÇ„Çä„ÄÅËªäÊ§ÖÂ≠ê„ÇÑÊ≠©Ë°åË£úÂä©ÂÖ∑„ÅÆ„É¶„Éº„Ç∂„Éº„Å´„ÅØÂ§ß„Åç„Å™ÈöúÂ£Å„Åß„Åô„ÄÇ',
        assertion: 'ÊÆµÂ∑Æ„Çí60mm‰ª•‰∏ã„Å´Êäë„Åà„Çã„Åã„ÄÅÁéÑÈñ¢Ê®™„Å´„Çπ„É≠„Éº„ÉóÔºàÂãæÈÖç1/12‰ª•‰∏ãÔºâ„ÇíË®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ‰∏ä„Åå„ÇäÊ°Ü„Å´Á∏¶ÂûãÊâã„Åô„Çä„ÇÇÂøÖÈ†à„Åß„Åô„ÄÇ'
      },
      {
        level: 'danger',
        title: '„Ç¢„Éó„É≠„Éº„ÉÅ„ÉªÂ§ñÊßãÊÆµÂ∑Æ',
        desc: 'Â§ñÈÉ®„Åã„Çâ„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ„Å´ÊÆµÂ∑Æ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅÂ±ãÂÜÖ„ÅÆ„Éê„É™„Ç¢„Éï„É™„ÉºÂåñ„ÅåÁÑ°ÊÑèÂë≥„Å´„Å™„Çä„Åæ„Åô„ÄÇ',
        assertion: 'ÁéÑÈñ¢Â§ñ„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ„Å´ÊÆµÂ∑Æ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅ„Çπ„É≠„Éº„ÉóÔºàÂπÖ90cm‰ª•‰∏ä„ÉªÂãæÈÖç1/12‰ª•‰∏ãÔºâ„ÇíË®≠ÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÈßêËªä„Çπ„Éö„Éº„Çπ„Åã„Çâ„ÅÆ„É´„Éº„Éà„ÇÇÂêà„Çè„Åõ„Å¶Ê§úË®é„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      },
      {
        level: 'warn',
        title: '„Éõ„Éº„É´ÊúâÂäπÂπÖ',
        desc: '„Éõ„Éº„É´„ÅåÁã≠„ÅÑ„Å®ËªäÊ§ÖÂ≠ê„Åß„ÅÆÊñπÂêëËª¢Êèõ„ÅåÂõ∞Èõ£„Åß„Åô„ÄÇ',
        assertion: '„Éõ„Éº„É´ÂπÖ„ÅØÊúÄ‰Ωé120cmÔºàÁêÜÊÉ≥150cmÔºâÁ¢∫‰øù„Åó„ÄÅÂõûËª¢„Çπ„Éö„Éº„ÇπÔºà150cm√ó150cmÔºâ„ÇíË®≠„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'
      }
    ]
  },
  shed: {
    name: 'Áâ©ÁΩÆ (Shed)',
    nameJa: 'Áâ©ÁΩÆ„ÉªÂèéÁ¥ç',
    floor: '1F',
    icon: 'üì¶',
    score: 55,
    issues: [
      {
        level: 'warn',
        title: 'ÂèéÁ¥ç„Ç¢„ÇØ„Çª„Çπ„ÅÆÈ´ò„Åï',
        desc: 'È´ò„ÅÑ‰ΩçÁΩÆ„ÅÆÂèéÁ¥çÊ£ö„ÅØËªäÊ§ÖÂ≠ê„É¶„Éº„Ç∂„Éº„ÇÑÈ´òÈΩ¢ËÄÖ„Å´„ÅØÂ±ä„Åç„Åæ„Åõ„Çì„ÄÇ',
        assertion: 'ÂèéÁ¥ç„ÅÆ‰∏ªË¶Å„Å™‰ΩøÁî®Âüü„ÇíÂ∫ä„Åã„Çâ40„Äú130cm„ÅÆÈ´ò„Åï„Å´ÈõÜ‰∏≠„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Éó„É´„Ç¢„Ç¶„ÉàÂºè„ÅÆÂèéÁ¥çÊ£ö„ÅÆÂ∞éÂÖ•„ÇÇÂäπÊûúÁöÑ„Åß„Åô„ÄÇ'
      },
      {
        level: 'ok',
        title: '1FÈÖçÁΩÆ„ÅØËâØÂ•Ω',
        desc: '1F„Å´Áâ©ÁΩÆ„Åå„ÅÇ„Çã„Åì„Å®„Åß„ÄÅÈáç„ÅÑËç∑Áâ©„ÅÆÈÅãÊê¨ÊôÇ„Å´ÈöéÊÆµ„Çí‰Ωø„Çè„Åö„Å´Ê∏à„Åø„Åæ„Åô„ÄÇ',
        assertion: null
      }
    ]
  }
};

function getScoreClass(score) {
  if (score >= 70) return 'ok';
  if (score >= 50) return 'warn';
  return 'danger';
}

function getScoreColor(score) {
  if (score >= 70) return 'var(--ok)';
  if (score >= 50) return 'var(--warn)';
  return 'var(--danger)';
}

function renderDetail(id) {
  const d = areaData[id];
  const el = document.getElementById(`detail-${id}`);
  const scoreClass = getScoreClass(d.score);
  const scoreColor = getScoreColor(d.score);

  const issueCards = d.issues.map(issue => `
    <div class="issue-card ${issue.level}">
      <div class="issue-top">
        <span class="issue-tag ${issue.level}">${issue.level === 'danger' ? 'üî¥ ÈáçÂ§ß' : issue.level === 'warn' ? 'üü° Ë¶ÅÊîπÂñÑ' : 'üü¢ ËâØÂ•Ω'}</span>
        <span class="issue-title">${issue.title}</span>
      </div>
      <div class="issue-desc">${issue.desc}</div>
      ${issue.assertion ? `<div class="assertion">${issue.assertion}</div>` : ''}
    </div>
  `).join('');

  el.innerHTML = `
    <div class="area-detail-header">
      <div class="area-detail-icon">${d.icon}</div>
      <div>
        <div class="area-detail-name">${d.name}</div>
        <div class="area-detail-floor">${d.nameJa} ¬∑ ${d.floor}</div>
      </div>
    </div>
    <div class="score-bar-wrapper">
      <div class="score-bar-label">
        <span>„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Çπ„Ç≥„Ç¢</span>
        <span class="score-value" style="color:${scoreColor}">${d.score}<span style="font-size:13px;color:var(--text-muted)">/100</span></span>
      </div>
      <div class="score-bar">
        <div class="score-bar-fill" style="width:${d.score}%;background:${scoreColor}"></div>
      </div>
    </div>
    <div class="issues-section">
      <div class="section-title">Ë©ï‰æ°È†ÖÁõÆ ¬∑ ${d.issues.length}‰ª∂</div>
      ${issueCards}
    </div>
  `;
}

function showDetail(id) {
  // Hide all
  document.querySelectorAll('.area-detail').forEach(el => el.classList.remove('active'));
  document.getElementById('placeholder').style.display = 'none';
  // Show selected
  const detail = document.getElementById(`detail-${id}`);
  detail.classList.add('active');
  detail.scrollTop = 0;
}

// Initialize detail content
Object.keys(areaData).forEach(id => renderDetail(id));

// Create area overlays
function createOverlays(containerId, areas) {
  const container = document.getElementById(containerId);
  areas.forEach(a => {
    const div = document.createElement('div');
    div.className = `area-overlay score-${getScoreClass(areaData[a.id].score)}`;
    div.style.cssText = `left:${a.x}%;top:${a.y}%;width:${a.w}%;height:${a.h}%;`;
    div.innerHTML = `
      <span class="area-name">${areaData[a.id].name}</span>
      <span class="area-score score-label-${getScoreClass(areaData[a.id].score)}">${areaData[a.id].score}</span>
    `;
    div.addEventListener('click', () => showDetail(a.id));
    container.appendChild(div);
  });
}

// 2F areas (percentages relative to SVG viewBox 600x280)
createOverlays('areas2f', [
  { id: 'ldk',      x: 1.5, y: 3.5, w: 57, h: 72 },
  { id: 'japanese', x: 60, y: 3.5, w: 38, h: 57 },
  { id: 'balcony',  x: 60, y: 63.5, w: 38, h: 22 },
  { id: 'bathroom', x: 1.5, y: 77.5, w: 30, h: 19 },
  { id: 'stairs2f', x: 33, y: 77.5, w: 25, h: 19 },
]);

// 1F areas
createOverlays('areas1f', [
  { id: 'room82',   x: 1.5, y: 3.5, w: 31.5, h: 93 },
  { id: 'shed',     x: 35, y: 3.5, w: 29, h: 40 },
  { id: 'room63',   x: 81, y: 3.5, w: 17.5, h: 93 },
  { id: 'entrance', x: 35, y: 46.5, w: 46, h: 50 },
]);
</script>
</body>
</html>
